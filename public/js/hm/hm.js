!function e(t,n,a){function o(i,l){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(r)return r(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return o(t[i][1][e]||e)}),d,d.exports,e,t,n,a)}return n[i].exports}for(var r="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(e,t,n){"use strict";var a=.7,o=.05,r=35,i=18,l=.33,s=1.1,c=1,d=!1,u=3,m={x1:39,y1:38,x2:712,y2:458},p={x1:0,y1:0,x2:720,y2:450},h={x1:18.98,y1:19,x2:346.56,y2:229.5},y=/разыг|розыг/gi,v=/пас|переда|смотри/gi,f=/авес|аброс|линны/g,g=/\d+:\d+/g,b=/[0-9]+/gi,x=105/(h.x2-h.x1),w={home:{TacticChanges:[0],TacticPoints:[],Points:[],AvgPoints:[],Mileage:[],PointsFull:[]},away:{TacticChanges:[0],TacticPoints:[],Points:[],AvgPoints:[],Mileage:[],PointsFull:[]}},E=[],P=[0],C={home:[],away:[]},T={home:[],away:[]};w.home.TacticPoints.push({start:0,end:1,period:0,startPoint:0,endPoint:1,team:[],ball:[],averages:[]}),w.away.TacticPoints.push({start:0,end:1,period:0,startPoint:0,endPoint:1,team:[],ball:[],averages:[]});for(var k=[],S=[[]],q=[[]],A=0;A<=i;A++){var B=function(e){var t=e||"home";w[t].Points.push([]),w[t].Mileage.push(0),w[t].AvgPoints.push({x:0,y:0}),w[t].TacticPoints[0].averages.push([{x:0,y:0}]),w[t].PointsFull.push([])};B("home"),B("away")}for(var _=1;_<=2*i;_++)S.push([]),q.push([]);var L=!1,N=!1,I="http://pefl.ru/jsonreport.php";function G(e){var t=window.location.href.match(/j\=\d+\&z\=.+/i)?window.location.href:e,n=t.indexOf("&z="),a=t.indexOf("j=");return I+"?j=".concat(t.substring(2+a,n),"&z=").concat(t.substring(3+n))}function M(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,i=e.x,l=e.y;return a?(t=Math.round(o.x2-(i-r.x1)*(o.x2-o.x1)/(r.x2-r.x1)),n=Math.round(o.y2-(l-r.y1)*(o.y2-o.y1)/(r.y2-r.y1))):(t=Math.round(o.x1+(i-r.x1)*(o.x2-o.x1)/(r.x2-r.x1)),n=Math.round(o.y1+(l-r.y1)*(o.y2-o.y1)/(r.y2-r.y1))),{x:t,y:n,value:e.value}}function W(e,t){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)}function D(e,t){var n,a,o,r,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return t?{n:e.n,h:n.y2-e.h,w:n.x2-e.w,value:1}:{n:e.n,h:e.h,w:e.w,value:1}}(e,arguments.length>2&&void 0!==arguments[2]&&arguments[2]);return n=i,o=(a=t).w-n.w,r=a.h-n.h,Math.sqrt(o*o+r*r)}function O(e,t){var n=t.x-e.x,a=t.y-e.y;return(n<0?a<0?-180:180:0)+180*Math.atan(a/n)/Math.PI}function j(e,t){return x*W(e,t)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e||!e.mes)return 0;for(var n=String(e.mes),a=n.length,o=0,r=[],i=0;i<a;i++)"["===n[i]?o=i+1:"]"===n[i]&&o<i&&o>0&&r.push(+n.substr(o,i-o));return o?r[t-1]?+r[t-1]:0:null}function V(e,t){return e<19&&t<19||e>18&&t>18}function F(e,t){var n="G"==e.type?"red":"V"==e.type?"yellow":"Block"==e.type?"black":"B"==e.type?"black":"W"==e.type?"#FFA500":"blue",a=document.createElement("div");a.classList.add("shot");var o=t.team+"Shot";return a.classList.add(o),a.setAttribute("player",e.player),a.setAttribute("shotType",e.type),a.setAttribute("minute",e.minute),a.appendChild(function(e,t,n){var a=document.createElement("div");return a.classList.add("shotline"),a.style.top=e.startpoint.y-1+"px",a.style.left=e.startpoint.x-1+"px",a.style.width=W(e.startpoint,e.endpoint)+"px",a.style.transform="rotate("+O(e.startpoint,e.endpoint)+"deg)",a.style.borderTopColor=n,a}(e,0,n)),a.appendChild(function(e,t,n){var a=document.createElement("div");return a.classList.add("shotend"),a.style.borderColor=n,a.style.backgroundColor=n,a.style.top=e.endpoint.y-2+"px",a.style.left=e.endpoint.x-1+"px",a}(e,0,n)),a.appendChild(function(e,t,n){var a=document.createElement("div");a.classList.add("shotstart"),a.style.borderColor=n,a.style.backgroundColor=n,a.style.top=e.startpoint.y-5+"px",a.style.left=e.startpoint.x-5+"px";var o="G"==e.type?"Гол":"V"==e.type?"Удар в створ":"W"==e.type?"Автогол":"Block"==e.type?"Блок":"B"==e.type?"Каркас ворот":"Мимо";return a.addEventListener("mouseenter",(function(n){var a=document.querySelector("#one-shot-legend"),r=" Минута "+e.minute+", "+o+", "+e.xG+",\n\r "+e.player+"."+t.playerName;a.textContent=r,a.style.display="inline-block"})),a.addEventListener("mouseleave",(function(e){document.querySelector("#one-shot-legend").style.display="none"})),a}(e,t,n)),a}function z(e,t,n,a){e.forEach((function(e,a){var o={playerName:t[e.player-1].name,team:n};document.querySelector("#chalkboard").appendChild(F(e,o))}))}function H(e,t){if("U"==e){if(!t.miss)return void(t.miss=1);t.miss++}if("G"==e){if(!t.goals)return void(t.goals=1);t.goals++}if("B"==e){if(!t.bar)return void(t.bar=1);t.bar++}if("Block"==e){if(!t.block)return void(t.block=1);t.block++}if("V"==e){if(!t.stvor)return void(t.stvor=1);t.stvor++}if("W"==e){if(!t.autogoals)return void(t.autogoals=1);t.autogoals++}}function R(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="."+t+"Shot";document.querySelectorAll(o).forEach((function(o){if(a)o.style.display="none";else{var r=document.querySelector("#"+t+"-player-list_"+o.getAttribute("player")+" input"),i=!!r&&r.checked;o.style.display=e?"block":i&&!n?"block":"none"}}))}function K(e,t){document.querySelectorAll("[class$=Shot]").forEach((function(n){var a=+n.getAttribute("minute"),o=a>=+e&&a<=+t;n.style.display=o?"block":"none"}))}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",n=document.querySelectorAll(".shots-container-wrapper")[0],a=parseInt("home"==t?n.getAttribute("data-homes"):n.getAttribute("data-aways"));return-1==e?a--:a++,a<0&&(a=0),"home"==t?n.setAttribute("data-homes",a):n.setAttribute("data-aways",a),a}function J(e){var t=document.createElement("input");return t.type="checkbox",t.checked=!1,t.style.cursor="pointer",t.addEventListener("click",(function(t){this.checked?(Z(1,e.team),R(!1,e.team,!1)):0==Z(-1,e.team)?R(!0,e.team):R(!1,e.team,!1)})),t}function X(e){e.preventDefault();var t=this.getAttribute("data-type"),n=".shot[shottype="+t+"]",a="bold"==this.style.fontWeight;document.querySelectorAll(n).forEach((function(e){e.style.display=a?"none":"block"})),"G"==t&&document.querySelectorAll(".shot[shottype=W]").forEach((function(e){e.style.display=a?"none":"block"})),this.style.fontWeight=a?"normal":"bold"}Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),a=n.length>>>0,o=arguments[1],r=0;r<a;r++)if(t=n[r],e.call(o,t,r,n))return t}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)});var $=document.getElementById("filterGoals");$.addEventListener("click",X.bind($));var Q=document.getElementById("filterStvor");Q.addEventListener("click",X.bind(Q));var Y=document.getElementById("filterMiss");Y.addEventListener("click",X.bind(Y));var ee=document.getElementById("filterBars");ee.addEventListener("click",X.bind(ee));var te=document.getElementById("filterBlocks");function ne(e){var t=document.getElementById(e);t.setAttribute("start",0),t.setAttribute("end",125),t.dispatchEvent(new Event("change",{bubbles:!0}))}function ae(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];R(e,"home",!0,!e),R(e,"away",!0,!e),e&&(document.querySelectorAll(".squadAndShots-containers-wrapper input[type=checkbox]").forEach((function(e){e.checked=d})),ne("shots-time-filter")),document.querySelectorAll("a[id^=filter]:nth-of-type(-n+5)").forEach((function(t){t.style.fontWeight=e?"bold":"normal"}))}function oe(e){return"corner"==e.type?"угловой":"throw"==e.type?"аут":"freekick"==e.type?"штрафной":"goalkick"==e.type?"от ворот":""}function re(e,t){return" Минута "+e.minute+", "+(e.good?"точно":"неточно")+(e.high?", верхом ,":", низом ,")+oe(e)+",\n\r "+t.player+"."+t.playerName}function ie(e,t){var n=e.good?"blue":"red",a=document.createElement("div");a.classList.add("pass");var o=t.team+"Pass";return a.classList.add(o),a.setAttribute("player",e.player),a.setAttribute("passType",e.type),a.setAttribute("minute",e.minute),a.setAttribute("high",e.high),a.setAttribute("good",e.good),a.appendChild(function(e,t,n){var a=document.createElement("div");return a.classList.add("pass-line"),a.style.top=e.startpoint.y-1+"px",a.style.left=e.startpoint.x-1+"px",a.style.width=W(e.startpoint,e.endpoint)+"px",a.style.transform="rotate("+O(e.startpoint,e.endpoint)+"deg)",a.style.borderTopColor=n,a.addEventListener("mouseenter",(function(n){var a=document.querySelector("#one-pass-legend");a.textContent=re(e,t),a.style.display="inline-block"})),a.addEventListener("mouseleave",(function(e){document.querySelector("#one-pass-legend").style.display="none"})),a}(e,t,n)),a.appendChild(function(e,t,n){var a=document.createElement("div");return a.classList.add("pass-start"),a.style.borderColor=n,a.style.backgroundColor=n,a.style.top=e.startpoint.y-5+"px",a.style.left=e.startpoint.x-5+"px",oe(e),a.addEventListener("mouseenter",(function(n){var a=document.querySelector("#one-pass-legend");a.textContent=re(e,t),a.style.display="inline-block"})),a.addEventListener("mouseleave",(function(e){document.querySelector("#one-pass-legend").style.display="none"})),a}(e,t,n)),a}function le(e,t,n,a){e.forEach((function(e,a){e[0]&&e.forEach((function(e){var o={playerName:t[a].name,team:n,player:a+1};document.querySelector("#passesboard").appendChild(ie(e,o))}))}))}te.addEventListener("click",X.bind(te)),document.getElementsByClassName("shots-container")[0].addEventListener("click",(function(e){ae()})),document.getElementById("filter-show-all").addEventListener("click",(function(e){e.preventDefault(),ae()})),document.getElementById("filter-hide-all").addEventListener("click",(function(e){e.preventDefault(),ae(d)}));var se,ce,de,ue=60;function me(e){for(var t=[],n=0;n<=i;n++)t.push({x:0,y:0,points:0});return e.forEach((function(e,n){var a=e.filter((function(e){return null!=e})),o=a.length;if(!(0===n||o<1)){a.forEach((function(e,a){t[n].x+=e.x/o,t[n].y+=e.y/o,t[n].points++}));var r=t.map((function(e,t){return{playerRank:t,points:e.points}})).slice(1).sort((function(e,t){return+t.points-+e.points}));t[0].order=r}})),t}function pe(e,t){var n=e.ball,a={n:0,length:1e4},o={n:0,length:1e4};return e.home.forEach((function(e){var t=D(e,n,!1);t<a.length?(o.n=a.n,o.length=a.length,a.n=e.n,a.length=t):t<o.length&&(o.n=e.n,o.length=t)})),e.away.forEach((function(e){var t=D(e,n,!0);t<a.length?(o.n=a.n,o.length=a.length,a.n=e.n+i,a.length=t):t<o.length&&(o.n=e.n+i,o.length=t)})),[a,o]}Date.now();function he(e,t,n){se.setData({max:ue*s,data:e}),ce.setData({max:ue*s,data:t}),de.setData({max:ue*l,data:n})}function ye(e,t){try{var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home";c[e]=w[e].PointsFull.map((function(e){return e.slice(r,l)})),c[e].forEach((function(t,n){0!==n&&t.filter((function(e){return null!=e})).forEach((function(t){return s[e].push(t)}))}))},a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=me(c[e]).slice(),n=t[0].order,a=function(a){var o=document.getElementById(e+"AvgPoints"+a),r=n.indexOf(n.find((function(e){return e.playerRank==a})));o.style.display=r<11?"inherit":"none",o.style.left=t[a].x-5+"px",o.style.top=t[a].y-5+"px";var i=document.getElementById("both"+e+"AvgPoints"+a);i.style.display=o.style.display,i.style.left=o.style.left,i.style.top=o.style.top,document.getElementById(e+"-player-list_"+a+"_name").style.fontWeight=r<11?"bold":"normal"},o=1;o<=i;o++)a(o)},o=0==e?1:e;if(o>t||+t-+o<=u)return;var r=P[o],l=P[t],s={home:[],away:[],ball:[]},c={home:[],away:[]};s.ball=E.slice(r,l),n("home"),n("away"),he(s.home,s.away,s.ball),a("home"),a("away")}catch(e){console.log(e)}}function ve(){function e(e){return window.location.origin+window.location.pathname+"?"+e.replace("http://pefl.ru/tv/#/","")}var t=document.querySelector("#tv-url-input");function n(e){if(w[e].TacticPoints.length>1)for(var t=1;t<w[e].TacticPoints.length;t++)if(!(w[e].TacticPoints[t].period<u))for(var n=function(n){var a=document.querySelector("#"+e+"AvgPoints_"+t+"_"+n),o=w[e].TacticPoints[t].rankByMinutes;a.style.display=o.indexOf(o.find((function(e){return e[0]==n})))<11?"inherit":"none"},a=1;a<=i;a++)n(a)}document.getElementById("tv-url").href=window.location.href.replace("http://pefl.ru/heatmaps.html?","http://pefl.ru/tv/#/").replace(":8080//",":8080/").replace("http://localhost:8080/heatmaps.html?","http://pefl.ru/tv/#/"),document.getElementById("json-url").href=G(),document.querySelector("#updateButton").addEventListener("click",(function(n){n.preventDefault(),t.value.match(/http\:\/\/pefl.ru\/tv\/\#\/j\=\d+\&z\=.+/i)?window.location.assign(e(t.value)):alert("Вставьте корректную ссылку на ТВ матча в поле ввода!")})),document.querySelector("#newWindow").addEventListener("click",(function(n){n.preventDefault(),t.value.match(/http\:\/\/pefl.ru\/tv\/\#\/j\=\d+\&z\=.+/i)?window.open(e(t.value),"_blank"):alert("Вставьте корректную ссылку на ТВ матча в поле ввода!")})),setTimeout((function(){document.querySelector("#shots-chalkboard ~ .bojan__content").appendChild(fe("shots",k,K)),document.querySelector("#maps-filtered ~ .bojan__content").appendChild(fe("maps",k,ye)),document.getElementById("norm-tactic-avg").addEventListener("click",(function(e){e.preventDefault(),n("home"),n("away")})),document.getElementById("reset-maps-filtering").addEventListener("click",(function(e){e.preventDefault(),ye(0,125),ne("maps-time-filter")}))}),200)}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[[[0,125]],[[0,125]]],n=arguments.length>2?arguments[2]:void 0,a=document.createElement("div");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,125],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",n=document.createElement("div");n.classList.add("time-slider__tacticks");var a=document.createElement("span");a.innerText="home"===t?"Тактики хозяев":"Тактики гостей",n.appendChild(a);var o=document.createElement("ul");return e.forEach((function(e){var t=document.createElement("li");t.innerText=e[0]+" - "+e[1],t.classList.add("time-slider__tacticks__ref"),t.addEventListener("click",(function(t){t.preventDefault(),c(e[0],e[1]),d()})),o.appendChild(t)})),n.appendChild(o),n}a.classList.add("time-slider"),a.id=e+"-time-filter",a.addEventListener("change",(function(e){e.preventDefault(),d()})),c(0,125);var r=document.createElement("div");r.classList.add("time-slider__inputs");var i=document.createElement("input");i.type="number",i.min=0,i.max=125,i.value=0,i.id=e+"-start-input";var l=i.cloneNode(!0);l.id=e+"-end-input",i.addEventListener("change",(function(e){var t;e.preventDefault(),+this.value>+a.getAttribute("end")-3&&(this.value=+a.getAttribute("end")-3),t=this.value,a.setAttribute("start",t),d()})),l.addEventListener("change",(function(e){var t;e.preventDefault(),+this.value<+a.getAttribute("start")+3&&(this.value=+a.getAttribute("start")+3),t=this.value,a.setAttribute("end",t),d()}));var s=document.createElement("span");function c(e,t){a.setAttribute("start",e),a.setAttribute("end",t)}function d(){var e=+a.getAttribute("start"),t=+a.getAttribute("end");i.value=e,l.value=t,n(e,t)}return s.innerText="Границы периода",r.appendChild(i),r.appendChild(s),r.appendChild(l),t[0].length>0&&a.appendChild(o(t[0])),t[1].length>0&&a.appendChild(o(t[1],"away")),a.appendChild(r),d(),a}window.onload=function(){var e=new XMLHttpRequest;e.overrideMimeType("application/json"),e.onreadystatechange=function(){if(this.readyState==this.OPENED&&e.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),4==this.readyState){if(200==this.status){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a;return h337.create({container:document.querySelector(e),maxOpacity:i,minOpacity:n,radius:r*t})},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home";if(document.querySelector("#"+e+"-tacticks-heatmaps + .bojan__label .bojan__label__header").textContent="Смены тактик "+A[e].team.name,w[e].TacticPoints.length>1)for(var t=function(t){if(w[e].TacticPoints[t].period<u)return"continue";w[e].TacticPoints[t].rankByMinutes=[],w[e].TacticPoints[t].averages.forEach((function(n,a){var o=n.length;w[e].TacticPoints[t].rankByMinutes[a]=[a,o],0===a||o<2||n.forEach((function(e,t,a){n[0].x+=e.x/o,n[0].y+=e.y/o}))})),w[e].TacticPoints[t].rankByMinutes.sort((function(e,t){return t[1]-e[1]}));var n=document.getElementsByClassName("heatmap2-containers-wrapper")[0].cloneNode(!0),s="#heatmap-tactic"+e+t,c="#heatmap-ball"+e+t,d=(w[e].TacticPoints[t].start>0?"от "+w[e].TacticPoints[t].start:"")+" "+(w[e].TacticPoints[t].end<125?"до "+w[e].TacticPoints[t].end:"")+".  "+A[e].team.name;n.querySelector("#heatmap-home").id="heatmap-tactic"+e+t,n.querySelector(s+" > div").textContent="Игроки "+d,n.querySelector("#heatmap-away").id="heatmap-ball"+e+t,n.querySelector(c+" > div").textContent="Мяч "+d,document.querySelector("#"+e+"-tacticks-heatmaps ~ .bojan__content").appendChild(n);var m=document.getElementsByClassName("heatmap-container-wrapper")[1].cloneNode(!0);m.className="heatmap-container-wrapper",n.className="heatmap3-containers-wrapper",m.querySelector(".heatmap-container").id="avgPositions"+I(e)+t,m.querySelector(".heatmap-container > div").textContent="Ср.поз."+d,n.appendChild(m);for(var p=function(n){var a=document.querySelector("#player_default_"+e).cloneNode(!0);a.id=e+"AvgPoints_"+t+"_"+n;var o=w[e].TacticPoints[t].rankByMinutes;a.style.display=o.indexOf(o.find((function(e){return e[0]==n})))<11?"inherit":"none",a.style.left=w[e].TacticPoints[t].averages[n][0].x-5+"px",a.style.top=w[e].TacticPoints[t].averages[n][0].y-5+"px",a.querySelector(".player_number").textContent=A[e].players[n-1].number,a.querySelector(".tooltiptext").textContent=A[e].players[n-1].name+"    "+A[e].players[n-1].number,document.querySelector("#avgPositions"+I(e)+t).appendChild(a)},h=1;h<=i;h++)p(h);h337.create({container:document.querySelector(s),maxOpacity:a,minOpacity:o,radius:r}).setData({max:ue,data:w[e].TacticPoints[t].team}),h337.create({container:document.querySelector(c),maxOpacity:a,minOpacity:o,radius:.67*r*1.1}).setData({max:ue*l*.35,data:w[e].TacticPoints[t].ball})},n=1;n<w[e].TacticPoints.length;n++)t(n);k.push(w[e].TacticPoints.filter((function(e,t){return t>0&&e.period>3})).map((function(e){return[e.start,e.end]})))},s=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e||"home",r=t||1,i=n||w.home.TacticPoints,l=o+"AvgPoints"+r,s="both"+o+"AvgPoints"+r,c=document.getElementById(l).style,d=document.getElementById(s).style;if(c.display=a?"inherit":"none",d.display=a?"inherit":"none",i.length>1)for(var m=1;m<i.length;m++)if(!(i[m].period<u)){var p=o+"AvgPoints_"+m+"_"+r;document.getElementById(p).style.display=a?"inherit":"none"}},h=function(e){for(var t=1;t<=i;t++){var n=document.querySelector("#player_default_"+e).cloneNode(!0);n.id=e+"AvgPoints"+t,n.plId=("home"===e?"hm":"aw")+t;var a=e+"-player-list_"+t,o=document.createElement("div");o.className="playerRow",o.id=a;var r=document.createElement("div");r.innerText=A[e].players[t-1].number+". ",r.className="player-list-num";var l=document.createElement("div");l.className="player-list-name";var u=document.createElement("a");u.id=a+"_name",u.innerText=A[e].players[t-1].name,u.href="#",u.addEventListener("click",(function(t){t.preventDefault(),this.style.fontWeight="bold"==this.style.fontWeight?"normal":"bold",s(e,this.id.replace(e+"-player-list_","").replace("_name",""),w[e].TacticPoints,"bold"==this.style.fontWeight||d)})),A[e].players[t-1].sub&&u.appendChild((B=A[e].players[t-1].sub,_=void 0,L=void 0,_=(B||c)==c?"http://pefl.ru/system/img/gm/out.gif":"http://pefl.ru/system/img/gm/in.gif",(L=document.createElement("img")).src=_,L)),l.appendChild(u),o.appendChild(r),o.appendChild(l);var m=document.createElement("div");m.className="player-list-eye",m.innerText=" ",o.appendChild(m);var p=document.createElement("div");p.className="player-list-shots";var h=(x=A[e].players[t-1],E=void 0,P=void 0,C=void 0,T=void 0,k=void 0,S=void 0,q=void 0,E=x.autogoals?""+-parseInt(x.autogoals):"",P=x.goals?parseInt(x.goals):0,C=P+(x.stvor?parseInt(x.stvor):0),T=C+(x.miss?parseInt(x.miss):0),k="|"+P+E,S=x.bar?"|"+parseInt(x.bar):" ",q=x.block?"|"+parseInt(x.block):" ",T+S+q==0&&""==E?" ":0==T?"        "+E+q+S:(T>9?T:" "+T)+"|"+C+k+" "+q+S);p.innerText=h;var y=document.createElement("div");if(y.className="playerShotCheckbox"," "==h)y.innerText=" ";else{y.appendChild(J({player:t,team:e}));var v=document.createElement("div");v.className="tooltiptext",v.innerText="Удары|В створ|Голы-автоголы   |Блокированные|Каркас",p.appendChild(v)}o.appendChild(y),o.appendChild(p);var f=document.createElement("div");f.className="player-list-mileage",f.innerText=Number(w[e].Mileage[t]/1e3).toFixed(2)+"км",o.appendChild(f),document.querySelector("#squad"+I(e)).appendChild(o),n.querySelector(".player_number").textContent=A[e].players[t-1].number,n.querySelector(".tooltiptext").textContent=A[e].players[t-1].name+"    "+A[e].players[t-1].number,document.getElementById("heatmap-avg"+I(e)).appendChild(n);var g=n.cloneNode(!0);g.id="both"+g.id,document.getElementById("heatmap-avgBoth").appendChild(g);var b=n.cloneNode(!0);b.style.display=w[e].AvgPoints[t].x>8&&w[e].AvgPoints[t].y>8?"inherit":"none",b.id=b.id+"_individual",b.style.left=w[e].AvgPoints[t].x-5+"px",b.style.top=w[e].AvgPoints[t].y-5+"px",document.querySelector("#heatmap-"+e+t).appendChild(b)}var x,E,P,C,T,k,S,q,B,_,L},x=this.responseText.match(g),q=x?x.pop():["0:0"],A=JSON.parse(this.responseText);R=document.querySelector("#player_default_away .player_shape").style,K=document.querySelector("#player_default_home .player_shape").style,R.backgroundColor="#"+A.away.team.back,R.borderColor="#"+A.away.team.color,R.color="#"+A.away.team.color,K.color="#"+A.home.team.color,K.borderColor="#"+A.home.team.color,K.backgroundColor="#"+A.home.team.back;var B=A.game;console.log("rep  - ",A);var _={corner:!1,throwIn:!1,deadBall:!1,goalKick:!1,center:!0,team:0,ballOwner:0},I=function(e){return"home"===e?"Home":"Away"};B.slice(1,-1);var G="0:0";try{B.forEach((function(e,t,n){var a,o,r=n[t-1],l=[],s=[];if(e.coordinates&&t>0)try{s=r.coordinates&&pe(r.coordinates),(l=pe(e.coordinates))[0],l[1],o=s&&s[0],s&&s[1]}catch(t){console.log("closest players error",t,e)}function d(t,n){return e.messages[t].mes.match(n)}if(e.C&&(_.corner=!0,_.team=e.C),e.A&&(_.throwIn=!0,_.team=e.A),e.F&&(_.deadBall=!0,_.team=e.F),e.T&&(_.goalKick=!0,_.team=e.T.team),e.N&&(_.center=!0,_.team=e.N),e.interval&&parseInt(e.interval),P[e.minute]||(P[e.minute]=w.home.Points[1].length),e.S&&(1==e.S.team?(A.home.players[e.S.in-1].sub=2,A.home.players[e.S.out-1].sub=c):(A.away.players[e.S.in-1].sub=2,A.away.players[e.S.out-1].sub=c)),e.messages[0]){var u,h,g={},x=!1;try{if(e.coordinates){try{_.center&&e.messages&&e.messages.some((function(e){return e.mes.match(y)}))&&(_.center=!1,o.n)}catch(t){console.log(" N error",t,e)}var k=e.coordinates.ball,q=r.coordinates?r.coordinates.ball:void 0,B={x:k.w,y:k.h};if(_.corner&&e.messages[1]){g.endpoint=M(B,L,m,p),g.high=1===k.z,g.minute=e.minute,g.episode=e.num,g.type="corner",_.corner=!1;var I={x:q.w,y:q.h};u=U(e.messages[0]),g.startpoint=M(I,L,m,p),e.messages[2]?(h=U(e.messages[2]),g.good=V(h,u)):(g.good=!0,h=U(e.messages[1])),h,g.player=u,S[u].push(g)}else if(_.throwIn&&e.messages[0]){g.endpoint=M(B,L,m,p),g.high=1===k.z,g.minute=e.minute,g.episode=e.num,g.type="throw",_.throwIn=!1,(u=U(r.messages[r.messages.length-1]))||(r=n[t-2]),(u=U(r.messages[r.messages.length-1]))||(r=n[t-3]);var W={x:(q=r.coordinates.ball).w,y:q.h};u=U(r.messages[r.messages.length-1]),g.startpoint=M(W,L,m,p),h=U(e.messages[e.messages.length-1]),g.good=V(h,u),h,g.player=u,S[u].push(g)}else if(_.deadBall)_.deadBall=!1;else if(_.goalKick){g.endpoint=M(B,L,m,p),g.high=1===k.z,g.minute=e.minute,g.episode=e.num,x=!0,g.type="goalkick";var D={x:q.w,y:q.h};if(_.goalKick=!1,u=o.n,g.startpoint=M(D,L,m,p),e.messages[0]&&(d(0,v)&&(e.messages[1]?(h=+d(1,b)[0],g.good=V(u,h)):x=!0),"goalkick"===g.type&&x)){var O=+d(0,b)[0];g.good=d(0,v)||O,x=!1}g.player=u,S[u].push(g)}}}catch(t){console.log("error ",r),console.log("Что то не так с обсчетом паса",e.minute,e.n,t)}if(e.messages.forEach((function(e){e.mes.indexOf(" СЧЕТ ")>-1&&(G=e.mes.replace(" СЧЕТ ",""))})),"Серия пенальти!..."==e.messages[0].mes||"Матч переходит к послематчевым одиннадцатиметровым!..."==e.messages[0].mes||"Назначаются послематчевые пенальти!..."==e.messages[0].mes)throw N=!0,"Серия пенальти!..."}if(e.ZT){var F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home";w[t].TacticPoints[0].end=e.minute,w[t].TacticPoints[0].period=e.minute-w[t].TacticPoints[0].start,w[t].TacticPoints.push(w[t].TacticPoints[0]),w[t].TacticPoints[0]={start:e.minute,end:125,period:125-e.minute,team:[],ball:[],averages:[]},w[t].TacticChanges.push(w[t].Points[0].length);for(var n=0;n<=i;n++)w[t].TacticPoints[0].averages.push([{x:0,y:0}])};1==e.ZT.team?(F("home"),w.home.TacticChanges.push(w.home.Points[0].length)):F("away")}try{if((e.U||e.W)&&!N){var z=e.coordinates.ball,H={x:z.w,y:z.h,value:1},R=e.G?"G":e.V?"V":e.W?"W":e.B?"B":e.U.team>2?"Block":"U",K=n[t-1].coordinates?n[t-1].coordinates.ball:n[t-2].coordinates?n[t-2].coordinates.ball:n[t-3].coordinates?n[t-3].coordinates.ball:n[t-4].coordinates.ball,Z={x:K.w,y:K.h,value:1},J={endpoint:M(H,L,m,p),startpoint:M(Z,L,m,p),episode:t,type:R,minute:e.minute,player:e.U?e.U.player:e.W.player,xG:e.U?e.U.xG?e.U.xG:"ждем xG":e.W.xG?e.W.xG:"ждем xG"};e.U&&(1==e.U.team||3==e.U.team)||e.W&&(2==e.W.team||4==e.W.team)?T.home.push(J):T.away.push(J)}if((e.G||e.V||e.B)&&!e.U){var X=e.coordinates.ball;console.log("goal event in next episode -  min=",e.minute," U=",e.U," W=",e.W," V=",e.V," G=",e.G," B=",e.B,X);var $,Q=M({x:X.w,y:X.h,value:1},L,m,p);$=e.G&&(1==e.G.team||3==e.G.team)||e.V&&(1==e.V.team||3==e.V.team)||e.B&&(1==e.B.team||3==e.B.team)?T.home[T.home.length-1]:T.away[T.away.length-1],n[t-1].messages.length>0&&n[t-1].messages.some((function(e){return e.mes.match(f)}))&&($.startpoint=$.endpoint),$.type=e.G?"G":e.V?"V":"B",$.endpoint=Q,$.player=e.G?e.G.player:e.V?e.V.player:e.B.player}}catch(a){console.log("Что то не так с обсчетом удара",e.minute,e.n,a),console.log(e,n[t-1],n[t-2])}function Y(e,t){for(var n=1;n<=i;n++)e[n].push(t[n])}if(e.M&&(L=!L),e.coordinates){var ee=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",n=e.coordinates[t],o=[],r=0;r<=i;r++)o.push(null);n.forEach((function(e){if(a=1==e.n?{x:e.w,y:e.h,value:.2}:{x:e.w,y:e.h,value:1},e.n<=i){var n=M(a,"home"===t?L:!L);if(w[t].Points[e.n].push(n),w[t].Points[0].push(n),w[t].TacticPoints[0].team.push(n),w[t].TacticPoints[0].averages[e.n].push(n),w[t].Points[e.n].length>1){var r=w[t].Points[e.n].length-1;w[t].Mileage[e.n]+=j(w[t].Points[e.n][r],w[t].Points[e.n][r-1])}o[e.n]=n}else C[t].push(e)})),w[t].TacticPoints[0].ball.push(ne),Y(w[t].PointsFull,o)},te=e.coordinates.ball,ne=M({x:te.w,y:te.h,value:1},L);E.push(ne),ee("home"),ee("away")}}))}catch(e){console.log("game.forEach ",e)}w.home.TacticPoints.push(w.home.TacticPoints[0]),w.away.TacticPoints.push(w.away.TacticPoints[0]);var W=G+(q==G?"":"(".concat(function(e,t){var n=e.split(":"),a=t.split(":");return"".concat(a[0]-n[0],":").concat(a[1]-n[1])}(G,q),")")),D=A.date+". "+(A.stadium.city?A.stadium.city+". ":"")+A.stadium.name+". "+A.home.team.name+" - "+A.away.team.name+" "+W;document.querySelector("#game-info").textContent=D,console.log("passes -",S),T.home.forEach((function(e){H(e.type,A.home.players[e.player-1])})),T.away.forEach((function(e){H(e.type,A.away.players[e.player-1])})),se=t("#heatmap-home"),ce=t("#heatmap-away"),de=t("#heatmap-ball",.67),he(w.home.PointsFull,w.away.PointsFull,E),t("#heatmap-avgHome"),t("#heatmap-avgAway"),t("#chalkboard"),t("#heatmap-avgBoth"),t("#passesboard");n("home"),n("away"),setTimeout((function(){for(var e=function(e){var t=document.getElementsByClassName("heatmap2-containers-wrapper")[0].cloneNode(!0);function n(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",i="#heatmap-"+n+e;t.querySelector("#heatmap-"+n).id="heatmap-"+n+e,t.querySelector(i+" > div").textContent=A[n].players[e-1].number+". "+A[n].players[e-1].name,"home"===n&&document.querySelector("#separate-heatmaps ~ .bojan__content").appendChild(t),h337.create({container:document.querySelector(i),maxOpacity:a,minOpacity:o,radius:r}).setData({max:ue,data:w[n].Points[e]})}n("home"),n("away")},t=1;t<=i;t++)e(t)}),10),document.querySelector("#heatmap-home .overlay").textContent=A.home.team.name,document.querySelector("#heatmap-away .overlay").textContent=A.away.team.name,document.querySelector("#heatmap-avgHome .overlay").textContent="Средние позиции "+A.home.team.name,document.querySelector("#heatmap-avgAway .overlay").textContent="Средние позиции "+A.away.team.name,w.home.TacticChanges.push(w.home.Points[0].length-1),w.away.TacticChanges.push(w.away.Points[0].length-1),w.home.AvgPoints=me(w.home.Points).slice(),w.away.AvgPoints=me(w.away.Points).slice(),setTimeout((function(){h("home"),h("away")}),50),setTimeout((function(){document.body.removeChild(document.querySelector(".loader-wrapper"))}),200);var O=document.querySelector("#chalkboard .heatmap-canvas"),F=document.querySelector("#passesboard .heatmap-canvas");if(O.getContext){O.getContext("2d");z(T.away,A.away.players,"away"),z(T.home,A.home.players,"home")}if(F.getContext){F.getContext("2d");le(S.slice(19),A.away.players,"away"),le(S.slice(1,18),A.home.players,"home")}}else alert("Вставьте верно ссылку на матч!");setTimeout(ve,200)}var R,K},e.open("GET",G("http://pefl.ru/tv/#/j=1099079&z=c3121c566116e3f04f0fba27f99d502c"),!0),e.send()}},{}]},{},[1]);
/*
 * heatmap.js v2.0.5 | JavaScript Heatmap Library
 *
 * Copyright 2008-2016 Patrick Wied <heatmapjs@patrick-wied.at> - All rights reserved.
 * Dual licensed under MIT and Beerware license 
 *
 * :: 2016-09-05 01:16
 */
(function (a, b, c) { if (typeof module !== "undefined" && module.exports) { module.exports = c() } else if (typeof define === "function" && define.amd) { define(c) } else { b[a] = c() } })("h337", this, function () { var a = { defaultRadius: 40, defaultRenderer: "canvas2d", defaultGradient: { .25: "rgb(0,0,255)", .55: "rgb(0,255,0)", .85: "yellow", 1: "rgb(255,0,0)" }, defaultMaxOpacity: 1, defaultMinOpacity: 0, defaultBlur: .85, defaultXField: "x", defaultYField: "y", defaultValueField: "value", plugins: {} }; var b = function h() { var b = function d(a) { this._coordinator = {}; this._data = []; this._radi = []; this._min = 10; this._max = 1; this._xField = a["xField"] || a.defaultXField; this._yField = a["yField"] || a.defaultYField; this._valueField = a["valueField"] || a.defaultValueField; if (a["radius"]) { this._cfgRadius = a["radius"] } }; var c = a.defaultRadius; b.prototype = { _organiseData: function (a, b) { var d = a[this._xField]; var e = a[this._yField]; var f = this._radi; var g = this._data; var h = this._max; var i = this._min; var j = a[this._valueField] || 1; var k = a.radius || this._cfgRadius || c; if (!g[d]) { g[d] = []; f[d] = [] } if (!g[d][e]) { g[d][e] = j; f[d][e] = k } else { g[d][e] += j } var l = g[d][e]; if (l > h) { if (!b) { this._max = l } else { this.setDataMax(l) } return false } else if (l < i) { if (!b) { this._min = l } else { this.setDataMin(l) } return false } else { return { x: d, y: e, value: j, radius: k, min: i, max: h } } }, _unOrganizeData: function () { var a = []; var b = this._data; var c = this._radi; for (var d in b) { for (var e in b[d]) { a.push({ x: d, y: e, radius: c[d][e], value: b[d][e] }) } } return { min: this._min, max: this._max, data: a } }, _onExtremaChange: function () { this._coordinator.emit("extremachange", { min: this._min, max: this._max }) }, addData: function () { if (arguments[0].length > 0) { var a = arguments[0]; var b = a.length; while (b--) { this.addData.call(this, a[b]) } } else { var c = this._organiseData(arguments[0], true); if (c) { if (this._data.length === 0) { this._min = this._max = c.value } this._coordinator.emit("renderpartial", { min: this._min, max: this._max, data: [c] }) } } return this }, setData: function (a) { var b = a.data; var c = b.length; this._data = []; this._radi = []; for (var d = 0; d < c; d++) { this._organiseData(b[d], false) } this._max = a.max; this._min = a.min || 0; this._onExtremaChange(); this._coordinator.emit("renderall", this._getInternalData()); return this }, removeData: function () { }, setDataMax: function (a) { this._max = a; this._onExtremaChange(); this._coordinator.emit("renderall", this._getInternalData()); return this }, setDataMin: function (a) { this._min = a; this._onExtremaChange(); this._coordinator.emit("renderall", this._getInternalData()); return this }, setCoordinator: function (a) { this._coordinator = a }, _getInternalData: function () { return { max: this._max, min: this._min, data: this._data, radi: this._radi } }, getData: function () { return this._unOrganizeData() } }; return b }(); var c = function i() { var a = function (a) { var b = a.gradient || a.defaultGradient; var c = document.createElement("canvas"); var d = c.getContext("2d"); c.width = 256; c.height = 1; var e = d.createLinearGradient(0, 0, 256, 1); for (var f in b) { e.addColorStop(f, b[f]) } d.fillStyle = e; d.fillRect(0, 0, 256, 1); return d.getImageData(0, 0, 256, 1).data }; var b = function (a, b) { var c = document.createElement("canvas"); var d = c.getContext("2d"); var e = a; var f = a; c.width = c.height = a * 2; if (b == 1) { d.beginPath(); d.arc(e, f, a, 0, 2 * Math.PI, false); d.fillStyle = "rgba(0,0,0,1)"; d.fill() } else { var g = d.createRadialGradient(e, f, a * b, e, f, a); g.addColorStop(0, "rgba(0,0,0,1)"); g.addColorStop(1, "rgba(0,0,0,0)"); d.fillStyle = g; d.fillRect(0, 0, 2 * a, 2 * a) } return c }; var c = function (a) { var b = []; var c = a.min; var d = a.max; var e = a.radi; var a = a.data; var f = Object.keys(a); var g = f.length; while (g--) { var h = f[g]; var i = Object.keys(a[h]); var j = i.length; while (j--) { var k = i[j]; var l = a[h][k]; var m = e[h][k]; b.push({ x: h, y: k, value: l, radius: m }) } } return { min: c, max: d, data: b } }; function d(b) { var c = b.container; var d = this.shadowCanvas = document.createElement("canvas"); var e = this.canvas = b.canvas || document.createElement("canvas"); var f = this._renderBoundaries = [1e4, 1e4, 0, 0]; var g = getComputedStyle(b.container) || {}; e.className = "heatmap-canvas"; this._width = e.width = d.width = b.width || +g.width.replace(/px/, ""); this._height = e.height = d.height = b.height || +g.height.replace(/px/, ""); this.shadowCtx = d.getContext("2d"); this.ctx = e.getContext("2d"); e.style.cssText = d.style.cssText = "position:absolute;left:0;top:0;"; c.style.position = "relative"; c.appendChild(e); this._palette = a(b); this._templates = {}; this._setStyles(b) } d.prototype = { renderPartial: function (a) { if (a.data.length > 0) { this._drawAlpha(a); this._colorize() } }, renderAll: function (a) { this._clear(); if (a.data.length > 0) { this._drawAlpha(c(a)); this._colorize() } }, _updateGradient: function (b) { this._palette = a(b) }, updateConfig: function (a) { if (a["gradient"]) { this._updateGradient(a) } this._setStyles(a) }, setDimensions: function (a, b) { this._width = a; this._height = b; this.canvas.width = this.shadowCanvas.width = a; this.canvas.height = this.shadowCanvas.height = b }, _clear: function () { this.shadowCtx.clearRect(0, 0, this._width, this._height); this.ctx.clearRect(0, 0, this._width, this._height) }, _setStyles: function (a) { this._blur = a.blur == 0 ? 0 : a.blur || a.defaultBlur; if (a.backgroundColor) { this.canvas.style.backgroundColor = a.backgroundColor } this._width = this.canvas.width = this.shadowCanvas.width = a.width || this._width; this._height = this.canvas.height = this.shadowCanvas.height = a.height || this._height; this._opacity = (a.opacity || 0) * 255; this._maxOpacity = (a.maxOpacity || a.defaultMaxOpacity) * 255; this._minOpacity = (a.minOpacity || a.defaultMinOpacity) * 255; this._useGradientOpacity = !!a.useGradientOpacity }, _drawAlpha: function (a) { var c = this._min = a.min; var d = this._max = a.max; var a = a.data || []; var e = a.length; var f = 1 - this._blur; while (e--) { var g = a[e]; var h = g.x; var i = g.y; var j = g.radius; var k = Math.min(g.value, d); var l = h - j; var m = i - j; var n = this.shadowCtx; var o; if (!this._templates[j]) { this._templates[j] = o = b(j, f) } else { o = this._templates[j] } var p = (k - c) / (d - c); n.globalAlpha = p < .01 ? .01 : p; n.drawImage(o, l, m); if (l < this._renderBoundaries[0]) { this._renderBoundaries[0] = l } if (m < this._renderBoundaries[1]) { this._renderBoundaries[1] = m } if (l + 2 * j > this._renderBoundaries[2]) { this._renderBoundaries[2] = l + 2 * j } if (m + 2 * j > this._renderBoundaries[3]) { this._renderBoundaries[3] = m + 2 * j } } }, _colorize: function () { var a = this._renderBoundaries[0]; var b = this._renderBoundaries[1]; var c = this._renderBoundaries[2] - a; var d = this._renderBoundaries[3] - b; var e = this._width; var f = this._height; var g = this._opacity; var h = this._maxOpacity; var i = this._minOpacity; var j = this._useGradientOpacity; if (a < 0) { a = 0 } if (b < 0) { b = 0 } if (a + c > e) { c = e - a } if (b + d > f) { d = f - b } var k = this.shadowCtx.getImageData(a, b, c, d); var l = k.data; var m = l.length; var n = this._palette; for (var o = 3; o < m; o += 4) { var p = l[o]; var q = p * 4; if (!q) { continue } var r; if (g > 0) { r = g } else { if (p < h) { if (p < i) { r = i } else { r = p } } else { r = h } } l[o - 3] = n[q]; l[o - 2] = n[q + 1]; l[o - 1] = n[q + 2]; l[o] = j ? n[q + 3] : r } k.data = l; this.ctx.putImageData(k, a, b); this._renderBoundaries = [1e3, 1e3, 0, 0] }, getValueAt: function (a) { var b; var c = this.shadowCtx; var d = c.getImageData(a.x, a.y, 1, 1); var e = d.data[3]; var f = this._max; var g = this._min; b = Math.abs(f - g) * (e / 255) >> 0; return b }, getDataURL: function () { return this.canvas.toDataURL() } }; return d }(); var d = function j() { var b = false; if (a["defaultRenderer"] === "canvas2d") { b = c } return b }(); var e = { merge: function () { var a = {}; var b = arguments.length; for (var c = 0; c < b; c++) { var d = arguments[c]; for (var e in d) { a[e] = d[e] } } return a } }; var f = function k() { var c = function h() { function a() { this.cStore = {} } a.prototype = { on: function (a, b, c) { var d = this.cStore; if (!d[a]) { d[a] = [] } d[a].push(function (a) { return b.call(c, a) }) }, emit: function (a, b) { var c = this.cStore; if (c[a]) { var d = c[a].length; for (var e = 0; e < d; e++) { var f = c[a][e]; f(b) } } } }; return a }(); var f = function (a) { var b = a._renderer; var c = a._coordinator; var d = a._store; c.on("renderpartial", b.renderPartial, b); c.on("renderall", b.renderAll, b); c.on("extremachange", function (b) { a._config.onExtremaChange && a._config.onExtremaChange({ min: b.min, max: b.max, gradient: a._config["gradient"] || a._config["defaultGradient"] }) }); d.setCoordinator(c) }; function g() { var g = this._config = e.merge(a, arguments[0] || {}); this._coordinator = new c; if (g["plugin"]) { var h = g["plugin"]; if (!a.plugins[h]) { throw new Error("Plugin '" + h + "' not found. Maybe it was not registered.") } else { var i = a.plugins[h]; this._renderer = new i.renderer(g); this._store = new i.store(g) } } else { this._renderer = new d(g); this._store = new b(g) } f(this) } g.prototype = { addData: function () { this._store.addData.apply(this._store, arguments); return this }, removeData: function () { this._store.removeData && this._store.removeData.apply(this._store, arguments); return this }, setData: function () { this._store.setData.apply(this._store, arguments); return this }, setDataMax: function () { this._store.setDataMax.apply(this._store, arguments); return this }, setDataMin: function () { this._store.setDataMin.apply(this._store, arguments); return this }, configure: function (a) { this._config = e.merge(this._config, a); this._renderer.updateConfig(this._config); this._coordinator.emit("renderall", this._store._getInternalData()); return this }, repaint: function () { this._coordinator.emit("renderall", this._store._getInternalData()); return this }, getData: function () { return this._store.getData() }, getDataURL: function () { return this._renderer.getDataURL() }, getValueAt: function (a) { if (this._store.getValueAt) { return this._store.getValueAt(a) } else if (this._renderer.getValueAt) { return this._renderer.getValueAt(a) } else { return null } } }; return g }(); var g = { create: function (a) { return new f(a) }, register: function (b, c) { a.plugins[b] = c } }; return g });
//# sourceMappingURL=hm.js.map
